# Validation Report: AI-Sommelier

> **Дата:** 2026-02-01
> **Версия:** 1.0

---

## Резюме

| Категория | Статус |
|-----------|--------|
| Полнота требований | ✅ Готово |
| Согласованность документов | ✅ Готово |
| Технические риски | ⚠️ Управляемые |
| Готовность к разработке | ✅ Можно начинать |

---

## 1. Проверка полноты Brief

| Раздел | Заполнен | Комментарий |
|--------|----------|-------------|
| Job Story | ✅ | Чётко сформулировано |
| Проблема пользователя | ✅ | 3 ключевые боли |
| Целевая аудитория | ✅ | 28-45 лет, Россия/СНГ |
| MVP Scope | ✅ | Минимальный набор определён |
| Out of Scope | ✅ | Явно указано что НЕ делаем |
| Критерии приёмки | ✅ | 6 чек-поинтов |
| Ограничения | ⚠️ | Бюджет неизвестен |
| Риски | ✅ | Идентифицированы |

---

## 2. Согласованность документов

### Brief ↔ User Story Map

| Критерий приёмки (Brief) | User Story | Статус |
|--------------------------|------------|--------|
| Регистрация и вход | US-001 | ✅ |
| Чат с AI | US-008 | ✅ |
| Рекомендации из каталога | SS-002 | ✅ |
| Персонализированные подсказки | US-009 | ✅ |
| Подсказки меняются от профиля | SS-001 | ✅ |
| Каталог 50+ вин | SS-004 | ✅ |

**Вывод:** Все критерии покрыты User Stories ✅

---

### User Story Map ↔ ER Diagram

| Сущность USM | Таблица БД | Статус |
|--------------|------------|--------|
| Пользователь | users | ✅ |
| Вкусовой профиль | taste_profiles | ✅ |
| Сообщения чата | messages | ✅ |
| Вина каталога | wines | ✅ |
| Обратная связь | feedback | ✅ |

**Вывод:** Все сущности есть в схеме БД ✅

---

### User Story Map ↔ API Inventory

| User Story | API Endpoint | Статус |
|------------|--------------|--------|
| US-001 Регистрация | POST /auth/register | ✅ |
| US-004 Пропуск онбординга | POST /onboarding/skip | ✅ |
| US-008 Отправка сообщения | POST /chat/message | ✅ |
| US-009 Подсказки | GET /chat/suggestions | ✅ |
| US-012 Feedback | POST /feedback | ✅ |

**Вывод:** Все ключевые US имеют endpoint ✅

---

## 3. Технические риски

| Риск | Вероятность | Влияние | Митигация | Статус |
|------|-------------|---------|-----------|--------|
| AI галлюцинации | Средняя | Высокое | RAG + проверка в БД | ✅ Описано |
| Cold start профиля | Средняя | Среднее | Онбординг + обучение из чата | ✅ Описано |
| Стоимость LLM | Средняя | Среднее | Кэширование, оптимизация промптов | ⚠️ Мониторить |
| pgvector производительность | Низкая | Среднее | Индексы, маленький каталог | ✅ Описано |

---

## 4. Открытые вопросы

| # | Вопрос | Влияние | Рекомендация |
|---|--------|---------|--------------|
| 1 | Бюджет на проект | Выбор хостинга | Начать с минимального VPS |
| 2 | Источник данных для каталога | Качество рекомендаций | Ручной ввод первых 50 вин |
| 3 | Метрики успеха MVP | Понимание результата | 50 регистраций, D7 > 30% |
| 4 | Стратегия продвижения | Привлечение пользователей | Друзья + Telegram |

---

## 5. Рекомендации перед разработкой

### Обязательно:

1. **Подготовить каталог вин** — минимум 50 позиций с характеристиками
2. **Получить API ключ Claude/GPT** — проверить лимиты и стоимость
3. **Арендовать VPS** — минимальная конфигурация для старта
4. **Зарегистрировать домен** — для продакшена

### Рекомендуется:

1. **Написать промпт для AI-сомелье** — протестировать в Playground
2. **Создать seed-данные** — тестовые пользователи и вина
3. **Настроить мониторинг** — хотя бы базовые алерты

---

## 6. Готовность к разработке

### Checklist:

- [x] Brief утверждён
- [x] User Story Map готов
- [x] Архитектура определена (FastAPI + HTMX + PostgreSQL)
- [x] ER-диаграмма готова
- [x] API описан
- [ ] Каталог вин подготовлен
- [ ] VPS арендован
- [ ] Домен зарегистрирован

### Вердикт:

> **Можно начинать разработку.** Документация достаточна для MVP. Открытые вопросы не блокируют старт — их можно решать параллельно.

---

## Следующие шаги

1. [ ] Подготовить каталог 50 вин
2. [ ] Арендовать VPS, настроить PostgreSQL
3. [ ] Создать репозиторий, базовую структуру проекта
4. [ ] Реализовать auth (регистрация, вход)
5. [ ] Реализовать чат с AI
6. [ ] Добавить RAG для рекомендаций
7. [ ] Тестирование с первыми пользователями
