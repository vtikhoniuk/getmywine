# –ó–∞–¥–∞—á–∏: –ò–∑—É—á–µ–Ω–∏–µ –≤–∫—É—Å–æ–≤–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è

**–í—Ö–æ–¥**: –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –∏–∑ `/specs/003-taste-profile/`
**–ü—Ä–µ—Ä–µ–∫–≤–∏–∑–∏—Ç—ã**: plan.md, spec.md, data-model.md, contracts/profile-api.yaml, research.md

**–¢–µ—Å—Ç—ã**: TDD –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω (–∫–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏—è: 100% –ø–æ–∫—Ä—ã—Ç–∏–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø—É—Ç–µ–π)

**–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è**: –ó–∞–¥–∞—á–∏ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ user story –¥–ª—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

## –§–æ—Ä–º–∞—Ç: `[ID] [P?] [Story?] –û–ø–∏—Å–∞–Ω–∏–µ`

- **[P]**: –ú–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (—Ä–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã, –Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
- **[Story]**: –ö –∫–∞–∫–æ–π user story –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∑–∞–¥–∞—á–∞ (US1, US2, US3, US4, US5)
- –í–∫–ª—é—á–µ–Ω—ã —Ç–æ—á–Ω—ã–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º

---

## Phase 1: Setup (–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞)

**–¶–µ–ª—å**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

- [ ] T001 –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ US-001 (auth) –∏ US-002 (chat) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] T002 [P] –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é backend/app/templates/components/ –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**Checkpoint**: –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

---

## Phase 2: Foundational (–ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –ø—Ä–µ—Ä–µ–∫–≤–∏–∑–∏—Ç—ã)

**–¶–µ–ª—å**: –ú–æ–¥–µ–ª–∏, –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –±–∞–∑–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –í–°–ï–• user stories

**‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û**: –†–∞–±–æ—Ç–∞ –Ω–∞–¥ user stories –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–æ–π —Ñ–∞–∑—ã

### –¢–µ—Å—Ç—ã –¥–ª—è Foundational

- [ ] T003 [P] –°–æ–∑–¥–∞—Ç—å backend/tests/unit/test_profile_extractor.py —Å —Ç–µ—Å—Ç–∞–º–∏ –¥–ª—è mock extractor
- [ ] T004 [P] –°–æ–∑–¥–∞—Ç—å backend/tests/contract/test_profile.py —Å –±–∞–∑–æ–≤—ã–º–∏ contract tests (GET /api/profile)

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Foundational

- [ ] T005 –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é backend/migrations/versions/005_create_taste_profile_tables.py —Å–æ–≥–ª–∞—Å–Ω–æ data-model.md
- [ ] T006 –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü taste_profiles, wine_memories
- [ ] T007 [P] –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å TasteProfile –≤ backend/app/models/taste_profile.py
- [ ] T008 [P] –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å WineMemory –≤ backend/app/models/wine_memory.py
- [ ] T009 –û–±–Ω–æ–≤–∏—Ç—å backend/app/models/__init__.py ‚Äî –¥–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π
- [ ] T010 [P] –°–æ–∑–¥–∞—Ç—å backend/app/schemas/profile.py —Å Pydantic —Å—Ö–µ–º–∞–º–∏ –∏–∑ contracts/profile-api.yaml
- [ ] T011 [P] –°–æ–∑–¥–∞—Ç—å backend/app/repositories/taste_profile.py (TasteProfileRepository)
- [ ] T012 [P] –°–æ–∑–¥–∞—Ç—å backend/app/repositories/wine_memory.py (WineMemoryRepository)
- [ ] T013 –°–æ–∑–¥–∞—Ç—å backend/app/services/profile_extractor.py —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –∏ mock —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π
- [ ] T014 –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π backend/app/services/profile.py (ProfileService —Å get_or_create_profile)
- [ ] T015 –°–æ–∑–¥–∞—Ç—å backend/app/routers/profile.py —Å GET /api/profile endpoint
- [ ] T016 –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å profile router –≤ backend/app/main.py

**Checkpoint**: –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã, GET /api/profile –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –∏–ª–∏ —Å–æ–∑–¥–∞—ë—Ç –ø—É—Å—Ç–æ–π

---

## Phase 3: User Story 1 ‚Äî –ü—Ä–æ–ø—É—Å–∫ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: P1) üéØ MVP

**–¶–µ–ª—å**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –æ–ø—Ä–æ—Å –∏ –ø–æ–ª—É—á–∏—Ç—å –ø—É—Å—Ç–æ–π –ø—Ä–æ—Ñ–∏–ª—å

**–ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π —Ç–µ—Å—Ç**: –í—ã–∑–≤–∞—Ç—å POST /api/profile/onboarding/skip, —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –ø—Ä–æ—Ñ–∏–ª—å —Å–æ–∑–¥–∞–Ω —Å onboarding_status=skipped

### –¢–µ—Å—Ç—ã –¥–ª—è US1

- [ ] T017 [P] [US1] –î–æ–±–∞–≤–∏—Ç—å contract test –¥–ª—è POST /api/profile/onboarding/skip –≤ backend/tests/contract/test_profile.py
- [ ] T018 [P] [US1] –î–æ–±–∞–≤–∏—Ç—å integration test –ø—Ä–æ–ø—É—Å–∫–∞ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ –≤ backend/tests/integration/test_onboarding_flow.py

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è US1

- [ ] T019 [US1] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ skip_onboarding –≤ backend/app/services/profile.py
- [ ] T020 [US1] –î–æ–±–∞–≤–∏—Ç—å endpoint POST /api/profile/onboarding/skip –≤ backend/app/routers/profile.py
- [ ] T021 [P] [US1] –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç backend/app/templates/components/onboarding.html —Å –∫–Ω–æ–ø–∫–æ–π "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å"
- [ ] T022 [US1] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç onboarding –≤ chat.html (–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∏ onboarding_status=pending)

**Checkpoint**: User Story 1 –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ ‚Äî –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –æ–ø—Ä–æ—Å

---

## Phase 4: User Story 2 ‚Äî –û–ø—Ä–æ—Å –æ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è—Ö (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: P1)

**–¶–µ–ª—å**: AI –≤–µ–¥—ë—Ç –¥–∏–∞–ª–æ–≥ –æ –≤–∫—É—Å–æ–≤—ã—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è—Ö —á–µ—Ä–µ–∑ 5 —à–∞–≥–æ–≤

**–ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π —Ç–µ—Å—Ç**: –ü—Ä–æ–π—Ç–∏ –≤—Å–µ —à–∞–≥–∏ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø—Ä–æ—Ñ–∏–ª—å –∑–∞–ø–æ–ª–Ω–µ–Ω

### –¢–µ—Å—Ç—ã –¥–ª—è US2

- [ ] T023 [P] [US2] –î–æ–±–∞–≤–∏—Ç—å contract test –¥–ª—è POST /api/profile/onboarding/start –≤ backend/tests/contract/test_profile.py
- [ ] T024 [P] [US2] –î–æ–±–∞–≤–∏—Ç—å contract test –¥–ª—è POST /api/profile/onboarding/answer –≤ backend/tests/contract/test_profile.py
- [ ] T025 [P] [US2] –î–æ–±–∞–≤–∏—Ç—å integration test –ø–æ–ª–Ω–æ–≥–æ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ –≤ backend/tests/integration/test_onboarding_flow.py

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è US2

- [ ] T026 [US2] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã ONBOARDING_QUESTIONS –≤ backend/app/services/profile.py (5 —à–∞–≥–æ–≤ –∏–∑ research.md R5)
- [ ] T027 [US2] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ start_onboarding –≤ backend/app/services/profile.py
- [ ] T028 [US2] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ answer_onboarding –≤ backend/app/services/profile.py
- [ ] T029 [US2] –î–æ–±–∞–≤–∏—Ç—å endpoint POST /api/profile/onboarding/start –≤ backend/app/routers/profile.py
- [ ] T030 [US2] –î–æ–±–∞–≤–∏—Ç—å endpoint POST /api/profile/onboarding/answer –≤ backend/app/routers/profile.py
- [ ] T031 [US2] –û–±–Ω–æ–≤–∏—Ç—å onboarding.html ‚Äî –¥–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ä–º—É –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤—ã–±–æ—Ä–∞
- [ ] T032 [US2] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É "–Ω–µ –∑–Ω–∞—é" ‚Üí —É–ø—Ä–æ—â—ë–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤ answer_onboarding

**Checkpoint**: User Stories 1 –ò 2 —Ä–∞–±–æ—Ç–∞—é—Ç ‚Äî –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∏–ª–∏ –ø—Ä–æ–π—Ç–∏ –æ–ø—Ä–æ—Å

---

## Phase 5: User Story 5 ‚Äî –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: P1)

**–¶–µ–ª—å**: –ü—Ä–æ—Ñ–∏–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –≤ —á–∞—Ç–µ

**–ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π —Ç–µ—Å—Ç**: –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ–º, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

### –¢–µ—Å—Ç—ã –¥–ª—è US5

- [ ] T033 [P] [US5] –î–æ–±–∞–≤–∏—Ç—å contract test –¥–ª—è PATCH /api/profile –≤ backend/tests/contract/test_profile.py
- [ ] T034 [P] [US5] –î–æ–±–∞–≤–∏—Ç—å unit tests –¥–ª—è extract_preferences –≤ backend/tests/unit/test_profile_extractor.py

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è US5

- [ ] T035 [US5] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ extract_preferences –≤ backend/app/services/profile_extractor.py (mock: keyword ‚Üí –ø–∞—Ä–∞–º–µ—Ç—Ä)
- [ ] T036 [US5] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ process_message –≤ backend/app/services/profile.py
- [ ] T037 [US5] –î–æ–±–∞–≤–∏—Ç—å endpoint PATCH /api/profile –≤ backend/app/routers/profile.py
- [ ] T038 [US5] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å ProfileService.process_message –≤ chat service (–≤—ã–∑–æ–≤ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è)
- [ ] T039 [US5] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å confidence scoring —Å–æ–≥–ª–∞—Å–Ω–æ research.md R3

**Checkpoint**: –í—Å–µ P1 user stories (1, 2, 5) —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

---

## Phase 6: User Story 3 ‚Äî –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–ø–æ–º–Ω–∏–≤—à–∏—Ö—Å—è –≤–∏–Ω (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: P2)

**–¶–µ–ª—å**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ–ø–∏—Å–∞—Ç—å –≤–∏–Ω–æ —Å–ª–æ–≤–∞–º–∏, AI –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

**–ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π —Ç–µ—Å—Ç**: –î–æ–±–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –≤–∏–Ω–∞, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

### –¢–µ—Å—Ç—ã –¥–ª—è US3

- [ ] T040 [P] [US3] –î–æ–±–∞–≤–∏—Ç—å contract test –¥–ª—è GET /api/profile/wine-memories –≤ backend/tests/contract/test_profile.py
- [ ] T041 [P] [US3] –î–æ–±–∞–≤–∏—Ç—å contract test –¥–ª—è POST /api/profile/wine-memories –≤ backend/tests/contract/test_profile.py
- [ ] T042 [P] [US3] –î–æ–±–∞–≤–∏—Ç—å contract test –¥–ª—è DELETE /api/profile/wine-memories/{id} –≤ backend/tests/contract/test_profile.py

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è US3

- [ ] T043 [US3] –°–æ–∑–¥–∞—Ç—å backend/app/services/wine_memory.py (WineMemoryService)
- [ ] T044 [US3] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ extract_wine_characteristics –≤ profile_extractor.py
- [ ] T045 [US3] –î–æ–±–∞–≤–∏—Ç—å endpoint GET /api/profile/wine-memories –≤ backend/app/routers/profile.py
- [ ] T046 [US3] –î–æ–±–∞–≤–∏—Ç—å endpoint POST /api/profile/wine-memories –≤ backend/app/routers/profile.py
- [ ] T047 [US3] –î–æ–±–∞–≤–∏—Ç—å endpoint DELETE /api/profile/wine-memories/{id} –≤ backend/app/routers/profile.py
- [ ] T048 [US3] –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –Ω–∞ –æ—Å–Ω–æ–≤–µ sentiment –≤–∏–Ω–∞ (liked ‚Üí —É—Å–∏–ª–∏—Ç—å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏)

**Checkpoint**: User Stories 1, 2, 3, 5 —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

---

## Phase 7: User Story 4 ‚Äî –ë—é–¥–∂–µ—Ç (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: P2)

**–¶–µ–ª—å**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∏–∑–º–µ–Ω–∏—Ç—å –±—é–¥–∂–µ—Ç –Ω–∞ –≤–∏–Ω–æ

**–ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π —Ç–µ—Å—Ç**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±—é–¥–∂–µ—Ç, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –æ–Ω —Å–æ—Ö—Ä–∞–Ω—ë–Ω

### –¢–µ—Å—Ç—ã –¥–ª—è US4

- [ ] T049 [P] [US4] –î–æ–±–∞–≤–∏—Ç—å contract test –¥–ª—è PUT /api/profile/budget –≤ backend/tests/contract/test_profile.py

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è US4

- [ ] T050 [US4] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ set_budget –≤ backend/app/services/profile.py
- [ ] T051 [US4] –î–æ–±–∞–≤–∏—Ç—å endpoint PUT /api/profile/budget –≤ backend/app/routers/profile.py
- [ ] T052 [US4] –î–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å –æ –±—é–¥–∂–µ—Ç–µ –≤ —à–∞–≥ 5 –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ (–µ—Å–ª–∏ –µ—â—ë –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω)

**Checkpoint**: –í—Å–µ user stories 1-5 –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã

---

## Phase 8: Polish & Cross-Cutting Concerns

**–¶–µ–ª—å**: –§–∏–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] T053 [P] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –Ω–∞ /docs ‚Äî –≤—Å–µ endpoints –ø—Ä–æ—Ñ–∏–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] T054 [P] –ó–∞–ø—É—Å—Ç–∏—Ç—å Ruff –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –ª–∏–Ω—Ç–∏–Ω–≥–∞
- [ ] T055 –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã –∏ —É–±–µ–¥–∏—Ç—å—Å—è –≤ 100% –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏
- [ ] T056 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å quickstart.md ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

---

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ñ–∞–∑

- **Setup (Phase 1)**: –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- **Foundational (Phase 2)**: –ó–∞–≤–∏—Å–∏—Ç –æ—Ç Setup ‚Äî –ë–õ–û–ö–ò–†–£–ï–¢ –≤—Å–µ user stories
- **User Stories (Phase 3-7)**: –í—Å–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç Foundational
  - US1 (P1): –ú–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ Foundational
  - US2 (P1): –ó–∞–≤–∏—Å–∏—Ç –æ—Ç US1 (–Ω—É–∂–Ω–∞ –±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—Ñ–∏–ª—è)
  - US5 (P1): –ú–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å US2
  - US3 (P2): –ú–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å US4
  - US4 (P2): –ù–µ–∑–∞–≤–∏—Å–∏–º–∞ –æ—Ç US3
- **Polish (Phase 8)**: –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—Å–µ—Ö user stories

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ User Stories

```
Foundational
    ‚îÇ
    ‚îú‚îÄ‚îÄ‚ñ∫ US1 (Skip) ‚îÄ‚îÄ‚ñ∫ US2 (Interview)
    ‚îÇ                        ‚îÇ
    ‚îÇ                        ‚ñº
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ US5 (Auto-Update)
                             ‚îÇ
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚ñº                              ‚ñº
          US3 (Wine Memory)            US4 (Budget)
```

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞

**–í Foundational:**
- T003, T004 (—Ç–µ—Å—Ç—ã) ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- T007, T008 (–º–æ–¥–µ–ª–∏) ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- T010, T011, T012 (schemas, repositories) ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ

**–ü–æ—Å–ª–µ Foundational:**
- US1 —Ç–µ—Å—Ç—ã (T017, T018) ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- US2 —Ç–µ—Å—Ç—ã (T023, T024, T025) ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- US5 —Ç–µ—Å—Ç—ã (T033, T034) ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- US3 —Ç–µ—Å—Ç—ã (T040, T041, T042) ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ

**–ú–µ–∂–¥—É User Stories:**
- US5 –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å US2 (—Ä–∞–∑–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã)
- US3 –∏ US4 –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã)

---

## –ü—Ä–∏–º–µ—Ä –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞: Foundational

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ:
Task: "–°–æ–∑–¥–∞—Ç—å backend/tests/unit/test_profile_extractor.py"
Task: "–°–æ–∑–¥–∞—Ç—å backend/tests/contract/test_profile.py"

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–¥–µ–ª–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (–ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏):
Task: "–°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å TasteProfile –≤ backend/app/models/taste_profile.py"
Task: "–°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å WineMemory –≤ backend/app/models/wine_memory.py"
```

---

## –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### MVP First (US1 + US2 + US5)

1. –ó–∞–≤–µ—Ä—à–∏—Ç—å Phase 1: Setup
2. –ó–∞–≤–µ—Ä—à–∏—Ç—å Phase 2: Foundational (–ö–†–ò–¢–ò–ß–ù–û)
3. –ó–∞–≤–µ—Ä—à–∏—Ç—å Phase 3: User Story 1 (–ø—Ä–æ–ø—É—Å–∫ –æ–ø—Ä–æ—Å–∞)
4. –ó–∞–≤–µ—Ä—à–∏—Ç—å Phase 4: User Story 2 (–ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –æ–ø—Ä–æ—Å–∞)
5. –ó–∞–≤–µ—Ä—à–∏—Ç—å Phase 5: User Story 5 (–∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
6. **–°–¢–û–ü –∏ –í–ê–õ–ò–î–ê–¶–ò–Ø**: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π flow
7. –î–µ–ø–ª–æ–π/–¥–µ–º–æ MVP

### –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞

1. Setup + Foundational ‚Üí –§—É–Ω–¥–∞–º–µ–Ω—Ç –≥–æ—Ç–æ–≤
2. US1 ‚Üí –¢–µ—Å—Ç ‚Üí –î–µ–ø–ª–æ–π (–º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –æ–ø—Ä–æ—Å) ‚Äî **–ø–µ—Ä–≤—ã–π —Ä–∞–±–æ—á–∏–π increment**
3. US2 ‚Üí –¢–µ—Å—Ç ‚Üí –î–µ–ø–ª–æ–π (–º–æ–∂–Ω–æ –ø—Ä–æ–π—Ç–∏ –æ–ø—Ä–æ—Å) ‚Äî **MVP!**
4. US5 ‚Üí –¢–µ—Å—Ç ‚Üí –î–µ–ø–ª–æ–π (–ø—Ä–æ—Ñ–∏–ª—å —É—á–∏—Ç—Å—è)
5. US3 ‚Üí –¢–µ—Å—Ç ‚Üí –î–µ–ø–ª–æ–π (–º–æ–∂–Ω–æ –æ–ø–∏—Å—ã–≤–∞—Ç—å –≤–∏–Ω–∞)
6. US4 ‚Üí –¢–µ—Å—Ç ‚Üí –î–µ–ø–ª–æ–π (–º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –±—é–¥–∂–µ—Ç)

---

## –ó–∞–º–µ—Ç–∫–∏

- [P] –∑–∞–¥–∞—á–∏ = —Ä–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã, –Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
- [Story] –º–µ—Ç–∫–∞ —Å–≤—è–∑—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É —Å user story –¥–ª—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏
- TDD: —Ç–µ—Å—Ç—ã –ø–∏—à—É—Ç—Å—è –î–û —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–≤–∞–ª–∏—Ç—å—Å—è
- –ö–æ–º–º–∏—Ç –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏ –∏–ª–∏ –ª–æ–≥–∏—á–µ—Å–∫–æ–π –≥—Ä—É–ø–ø—ã
- –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ –ª—é–±–æ–º checkpoint –¥–ª—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ story
- Mock extractor –∏—Å–ø–æ–ª—å–∑—É–µ—Ç keyword matching (research.md R1)
