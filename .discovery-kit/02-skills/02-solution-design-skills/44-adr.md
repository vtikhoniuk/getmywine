# Навык: Architecture Decision Records (ADR)

## Цель

Формализовать ключевые архитектурные решения в стандартном ADR формате. Документировать не только ЧТО было выбрано, но и ПОЧЕМУ — для текущей команды и будущих разработчиков.

---

## Входные данные

**Обязательно:**
- Tech Research Report (от 43-tech-research) — исследование технологий
- Brief — контекст проекта

**Опционально:**
- NFR — влияют на обоснование
- C4 Diagram — архитектурный контекст

---

## Что такое ADR?

Короткий документ, фиксирующий одно архитектурное решение:
- **Контекст** — какая проблема решается
- **Решение** — что выбрали
- **Обоснование** — почему именно это
- **Альтернативы** — что отвергли и почему
- **Последствия** — trade-offs, что требует внимания

**Зачем:** Onboarding, ретроспектива, accountability, консистентность.

---

## Шаблон ADR

```markdown
# ADR-[NNN]: [Краткое название]

**Статус:** [Proposed | Accepted | Deprecated | Superseded by ADR-XXX]
**Дата:** [YYYY-MM-DD]

## Контекст

[Проблема. Требования/ограничения. Ссылки на Brief, NFR, Tech Research.]

## Решение

[Что выбрали. Конкретные технологии, паттерны.]

## Обоснование

[Почему. Ключевые факторы, данные, benchmarks.]

## Альтернативы

### [Альтернатива 1]
- **Плюсы:** ...
- **Минусы:** ...
- **Почему отвергли:** ...

## Последствия

### Положительные
- ...

### Trade-offs
- ...

### Требует внимания
- ...

## Связанные решения

- ADR-XXX: ...
```

---

## Нумерация и организация

```
docs/adr/
├── README.md           # Индекс всех ADR
├── ADR-001-frontend.md
├── ADR-002-backend.md
├── ADR-003-database.md
└── ...
```

**Правила:**
- Номера никогда не переиспользуются
- Устаревшие ADR помечаются как Deprecated/Superseded
- Новые ADR ссылаются на заменённые

---

## Типовые ADR для проекта

**Infrastructure:** Хостинг, деплой, среды
**Data:** СУБД, ORM, миграции
**Backend:** Runtime/framework, API style, валидация
**Frontend:** Framework, state management, styling
**Security:** Auth, авторизация, secrets

---

## Процесс

1. **Определи решения из Tech Research** — выбор технологий, паттернов
2. **Для каждого:** контекст → решение → обоснование → альтернативы → последствия
3. **Организуй файлы** — индекс + отдельные ADR

---

## Pro-tips

- **Один ADR = одно решение** — не объединяй несколько
- **Контекст важнее решения** — через год решение может измениться, контекст останется
- **Честно про trade-offs** — нет идеальных решений
- **Живой документ** — ADR можно обновлять (статус, ссылки)
- **Не overthink** — для MVP достаточно 3-5 ключевых ADR
- **Источники обязательны** — каждая рекомендация подкреплена данными
